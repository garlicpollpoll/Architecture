# 3 Tier Architecture

## ⚙️ Architecture Design

<img src="https://github.com/garlicpollpoll/Architecture/assets/86602266/215fe2eb-23ea-4947-a697-7536d095fc76">

이 프로젝트는 흔히 사용하는 3티어 아키텍처를 AWS를 이용해 고도화하는 프로젝트입니다. 

## 장점
 - WAF를 이용해 방화벽을 세워 DDoS의 공격을 방어할 수 있습니다.
 - 애플리케이션이 위치한 EC2와 데이터베이스가 위치한 EC2를 모두 내부망으로 넣어두고 ALB만 외부로 노출하였습니다. 또한, 애플리케이션이 위치한 EC2의 SG를 로드밸런서로 두고 데이터베이스가 위치한 EC2의 SG를 22번과 3306번만을 두어 보안상 이점을 가져갈 수 있었습니다.
 - 로드밸런싱 알고리즘을 Least Connection으로 설정하여 동적으로 트래픽을 분산시킬 수 있게 조절하였습니다. 
 - 데이터베이스의 유실과 폭발적으로 트래픽이 발생할 경우를 대비하여 Replica를 하나 두었습니다.
 - 데이터베이스의 접근을 KMS와 Secret Manager를 이용해 관리하였습니다.
 - 폭발적인 트래픽에 ASG를 설정하여 유연성을 높였습니다.
 - EC2인스턴스에 Cloud Watch를 연결하여 알람을 받을 수 있게 하였습니다.

## 단점
 - AWS의 많은 서비스를 사용하는만큼 비용이 많이 나옵니다. 
 - 이렇게 많은 인프라를 관리하는데 시간이 많이 듭니다.

## 느낀점
평소에 알고 있던 클라우드 지식과 CS지식을 총동원하여 3 티어 아키텍처를 고도화하는 과정에서 커다란 그림이 만들어져 큰 성취감을 느낄 수 있었습니다. 

여기서 ECS나 EKS를 이용해 더 큰 규모의 애플리케이션을 설계할 수 있지만 ECS나 EKS같은 컨테이너 관리 서비스에 대해 공부가 부족해 점차 이 아키텍처를 발전시킬 계획입니다. 

최종적인 목표는 클라우드를 이용해 MSA를 설계해보는 것입니다만 아직 1년차에 너무 많은 것을 공부하려하면 체할 것 같아서 미루도록 하겠습니다. 

## 블로그

* [AWS를 이용하여 3티어 아키텍처 고도화하기](https://coding-review.tistory.com/505)
